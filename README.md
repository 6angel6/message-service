# Message Processing Microservice

## Тестовое

Разрабтатоь микросервис на Go, который будет принимать сообщения через HTTP API, сохранять их в PostgreSQL, а затем отправлять в Kafka для дальнейшей обработки. Обработанные сообщения должны помечаться. Сервис должен также предоставлять API для получения статистики по обработанным сообщениям

## Требования
- Go 1.20+
- PostgreSQL для хранения сообщений
- Реализация отправки и чтения сообщений в Kafka
- Возможность запустить проект в Docker

## Установка и Запуск


### Запуск с использованием Docker
1. Скопировать репозиторий
   ```bash
   git clone https://github.com/6angel6/message-service.git
    ```
   Папка `.env` предоставлена в проекте для переменных окружения 


2. Соберите и запустите контейнеры Docker:
    ```bash
    docker-compose up --remove-orphans --build 
    ```
   или
   ```bash
   make dc
    ```
   
3. Ваш сервис будет доступен по адресу `http://localhost:8080`.

### Отправка сообщения

| Метод | URL                   | Описание                                                                            |
|-------|-----------------------|-------------------------------------------------------------------------------------|
| POST  | `/api/message`        | Принимает сообщение, сохраняет его в базе данных и отправляет в Kafka для обработки.|
| GET   | `/api/messages/stats` | Получения статистики по обработанным сообщениям                                     |

**Пример запроса POST:**

```json
{
  "content": "string"
}